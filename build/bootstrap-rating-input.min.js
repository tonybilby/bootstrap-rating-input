!function(e){e.fn.rating=function(){function t(t,n){var r=e(t).find("[data-value="+n+"]");r.removeClass("rating-inactive").addClass("rating-active"),r.prevAll("[data-value]").removeClass("rating-inactive").addClass("rating-active"),r.nextAll("[data-value]").removeClass("rating-active").addClass("rating-inactive")}function n(t){var n=e(t);n.find("[data-value]").removeClass("rating-active").addClass("rating-inactive"),n.find(".rating-clear").hide();var r=n.find("input");r.val(r.data("empty-value")).trigger("change")}var r;for(r=this.length-1;r>=0;r--){var i,s,o=e(this[r]),u=o.data("max")||5,f=o.data("min")||0,l=o.data("empty-value"),c=o.data("clearable")||null,h="";for(s=f;u>=s;s++)h+=['<span class="glyphicon glyphicon-star rating-inactive" data-value="',s,'"></span>'].join("");c&&(h+=[' <a class="rating-clear" style="display:none;" href="javascript:void">','<span class="glyphicon glyphicon-remove"></span> ',c,"</a>"].join("")),i=['<div class="rating-input">',h,'<input type="hidden" name="',o.attr("name"),'" value="',o.val(),'" id="',o.attr("id"),'" data-min="',f,'" data-max="',u,'" data-empty-value="',l,'" />',"</div>"].join(""),o.replaceWith(i)}e(".rating-input").on("mouseenter","[data-value]",function(){var n=e(this);t(n.closest(".rating-input"),n.data("value"))}).on("mouseleave","[data-value]",function(){var r=e(this),i=r.siblings("input"),s=i.val(),o=i.data("min"),u=i.data("max");s>=o&&u>=s?t(r.closest(".rating-input"),s):n(r.closest(".rating-input"))}).on("click","[data-value]",function(t){var n=e(this),r=n.data("value");return n.siblings("input").val(r).trigger("change"),n.siblings(".rating-clear").show(),t.preventDefault(),!1}).on("click",".rating-clear",function(t){return n(e(this).closest(".rating-input")),t.preventDefault(),!1}).each(function(){var r=e(this).find("input"),i=r.val(),s=r.data("min"),o=r.data("max");i>=s&&o>=i?(t(this,i),e(this).find(".rating-clear").show()):n(this)})},e(function(){e("input.rating[type=number]").length>0&&e("input.rating[type=number]").rating()})}(jQuery)